# ═══════════════════════════════════════════════════════
# Eventra Platform — DEVELOPMENT Profile
# Activated via: SPRING_PROFILES_ACTIVE=dev
# ═══════════════════════════════════════════════════════

# ─── MongoDB (local Docker) ──────────────────────
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/eventra_dev}
spring.data.mongodb.auto-index-creation=true

# ─── Redis (local Docker) ───────────────────────
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}

# ─── Rate Limiting (relaxed for dev) ─────────────────
rate-limit.default.capacity=1000
rate-limit.default.refill-tokens=1000
rate-limit.default.refill-duration=60
rate-limit.admin.capacity=5000
rate-limit.admin.refill-tokens=5000
rate-limit.admin.refill-duration=60
rate-limit.anonymous.capacity=500
rate-limit.anonymous.refill-tokens=500
rate-limit.anonymous.refill-duration=60

# ─── RabbitMQ (local Docker) ────────────────────────
# Set to true when running via docker-compose (RabbitMQ available)
# Set to false for standalone mvn spring-boot:run without Docker
stomp.broker.relay.enabled=${STOMP_BROKER_RELAY_ENABLED:false}
stomp.broker.relay.host=${RABBITMQ_HOST:localhost}
stomp.broker.relay.port=${RABBITMQ_STOMP_PORT:61613}
stomp.broker.relay.login=${RABBITMQ_USER:eventra}
stomp.broker.relay.passcode=${RABBITMQ_PASS:eventra_dev}

# ─── Logging (verbose for dev) ──────────────────────
logging.level.root=INFO
logging.level.com.eventra=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.org.springframework.cache=TRACE
logging.level.io.lettuce.core=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.messaging=DEBUG
logging.level.org.springframework.web.socket=DEBUG

# ─── Distributed Tracing (dev — sample everything) ──
management.tracing.enabled=${TRACING_ENABLED:true}
management.tracing.sampling.probability=1.0
management.otlp.tracing.endpoint=${OTLP_TRACING_ENDPOINT:http://localhost:4318/v1/traces}
